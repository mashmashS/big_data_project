#!/usr/bin/env python
# coding: utf-8

# In[17]:


##### import numpy as np
import pandas as pd
from apyori import apriori

store_data = pd.read_csv('C:\\Datasets\\reversed.csv')
#st=store_data.tail(30)
#st=store_data.head(30)
st=store_data
print(st)

records = []
for i in range(0, 99):
    records.append([str(st.values[i,j]) for j in range(15,30)])#רשימה חדשה עם כל הפריטים שאני יכול למצוא. תהפוך לסטרינג של כל הערכים במיקומים אי ג'י(מטריצה) והעמודות בין 1 ל20
print(records)

association_rules = apriori(records, min_support=0.2, min_confidence=0.05, min_lift=2, min_length=2)#תמצא קשר בעזרת אפריורי על הרקורדז שבניתי שהמינימים סופורט  הוא 0.00045 אחוז כלומר מחפש סלים שמקיימים שלפחות 0.00045% מהדאטה סט מכיל אותם, סלים הכל מגודל מסויים זה האורך
association_results = list(association_rules)
#print(len(association_rules))
print('/n')
print("length:",len(association_results))
print(association_results[0])
print(association_results[1])
print(association_results[2])


פלט:
    
        model  learning  data  algorithm  set  function  using  time  figure  \
0   model  learning  data  algorithm  set  function  using  time  figure   
1   model  learning  data  algorithm  set  function    NaN  time     NaN   
2     NaN       NaN   NaN  algorithm  set  function  using   NaN  figure   
3     NaN  learning  data  algorithm  set  function    NaN  time     NaN   
4   model  learning  data  algorithm  set  function  using  time  figure   
..    ...       ...   ...        ...  ...       ...    ...   ...     ...   
94  model  learning  data  algorithm  set       NaN  using   NaN  figure   
95  model  learning  data  algorithm  set       NaN  using  time  figure   
96  model       NaN   NaN        NaN  set       NaN    NaN   NaN     NaN   
97    NaN       NaN  data        NaN  set       NaN  using  time  figure   
98    NaN  learning   NaN        NaN  set       NaN  using  time  figure   

    number  ...  consider  problems  local  machine  form  process  second  \
0      NaN  ...  consider  problems    NaN  machine  form      NaN     NaN   
1   number  ...       NaN  problems  local  machine  form  process  second   
2   number  ...  consider  problems  local  machine  form  process     NaN   
3   number  ...       NaN  problems  local  machine  form  process  second   
4   number  ...  consider  problems  local  machine  form  process  second   
..     ...  ...       ...       ...    ...      ...   ...      ...     ...   
94     NaN  ...       NaN  problems  local  machine  form      NaN  second   
95  number  ...  consider  problems  local  machine  form  process  second   
96     NaN  ...       NaN  problems    NaN  machine   NaN      NaN     NaN   
97     NaN  ...       NaN  problems  local      NaN  form      NaN  second   
98     NaN  ...  consider  problems  local  machine  form      NaN     NaN   

    graph  structure  high  
0   graph  structure   NaN  
1   graph  structure  high  
2   graph  structure  high  
3   graph  structure  high  
4   graph  structure  high  
..    ...        ...   ...  
94  graph  structure  high  
95  graph        NaN  high  
96    NaN        NaN   NaN  
97  graph        NaN   NaN  
98    NaN        NaN  high  

[99 rows x 99 columns]
[['also', 'results', 'distribution', 'network', 'based', 'matrix', 'neural', 'nan', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['nan', 'results', 'nan', 'nan', 'nan', 'nan', 'nan', 'first', 'information', 'use', 'nan', 'method', 'linear', 'nan', 'state'], ['nan', 'nan', 'distribution', 'network', 'nan', 'matrix', 'neural', 'first', 'information', 'use', 'error', 'nan', 'linear', 'input', 'nan'], ['nan', 'nan', 'distribution', 'nan', 'nan', 'nan', 'neural', 'nan', 'information', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan'], ['nan', 'results', 'distribution', 'network', 'based', 'nan', 'neural', 'first', 'information', 'use', 'nan', 'method', 'linear', 'input', 'state'], ['also', 'nan', 'distribution', 'network', 'based', 'matrix', 'neural', 'first', 'information', 'use', 'error', 'method', 'linear', 'nan', 'state'], ['also', 'results', 'distribution', 'nan', 'nan', 'nan', 'nan', 'first', 'information', 'use', 'error', 'method', 'linear', 'nan', 'state'], ['also', 'nan', 'nan', 'nan', 'based', 'matrix', 'neural', 'first', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['also', 'results', 'distribution', 'network', 'nan', 'matrix', 'neural', 'first', 'information', 'use', 'error', 'nan', 'linear', 'input', 'nan'], ['also', 'results', 'distribution', 'network', 'based', 'matrix', 'neural', 'first', 'information', 'use', 'error', 'method', 'nan', 'input', 'state'], ['nan', 'nan', 'distribution', 'network', 'nan', 'nan', 'nan', 'first', 'information', 'use', 'nan', 'method', 'linear', 'input', 'nan'], ['nan', 'results', 'nan', 'network', 'based', 'matrix', 'neural', 'first', 'information', 'nan', 'nan', 'method', 'linear', 'nan', 'nan'], ['also', 'results', 'distribution', 'nan', 'nan', 'matrix', 'neural', 'first', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'first', 'nan', 'nan', 'nan', 'method', 'nan', 'nan', 'nan'], ['also', 'results', 'distribution', 'network', 'based', 'nan', 'neural', 'first', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['also', 'results', 'distribution', 'network', 'based', 'matrix', 'neural', 'nan', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['also', 'results', 'distribution', 'network', 'based', 'matrix', 'neural', 'first', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['also', 'nan', 'distribution', 'nan', 'based', 'nan', 'nan', 'nan', 'information', 'nan', 'error', 'method', 'nan', 'input', 'nan'], ['also', 'nan', 'distribution', 'network', 'based', 'matrix', 'neural', 'first', 'information', 'use', 'error', 'method', 'nan', 'input', 'state'], ['nan', 'results', 'distribution', 'nan', 'nan', 'matrix', 'neural', 'nan', 'information', 'nan', 'nan', 'method', 'linear', 'nan', 'nan'], ['nan', 'results', 'distribution', 'network', 'based', 'nan', 'nan', 'nan', 'nan', 'use', 'nan', 'nan', 'nan', 'nan', 'state'], ['also', 'results', 'distribution', 'network', 'based', 'matrix', 'neural', 'nan', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['also', 'results', 'distribution', 'network', 'based', 'matrix', 'nan', 'first', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['also', 'results', 'distribution', 'network', 'nan', 'matrix', 'neural', 'first', 'nan', 'use', 'nan', 'method', 'linear', 'input', 'state'], ['nan', 'results', 'distribution', 'nan', 'nan', 'matrix', 'neural', 'first', 'information', 'use', 'nan', 'method', 'linear', 'nan', 'state'], ['nan', 'results', 'distribution', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'use', 'nan', 'nan', 'nan', 'nan', 'state'], ['also', 'nan', 'distribution', 'nan', 'nan', 'nan', 'neural', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan'], ['also', 'results', 'distribution', 'network', 'based', 'nan', 'neural', 'first', 'information', 'use', 'error', 'method', 'nan', 'input', 'state'], ['also', 'results', 'distribution', 'network', 'based', 'matrix', 'neural', 'first', 'information', 'nan', 'error', 'method', 'nan', 'input', 'state'], ['also', 'nan', 'nan', 'nan', 'based', 'matrix', 'neural', 'nan', 'information', 'use', 'error', 'method', 'nan', 'nan', 'state'], ['also', 'results', 'distribution', 'network', 'nan', 'matrix', 'neural', 'first', 'nan', 'nan', 'error', 'method', 'linear', 'input', 'state'], ['also', 'results', 'distribution', 'network', 'based', 'matrix', 'neural', 'first', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['nan', 'nan', 'distribution', 'network', 'based', 'nan', 'nan', 'nan', 'information', 'use', 'error', 'nan', 'nan', 'input', 'state'], ['also', 'results', 'distribution', 'nan', 'nan', 'nan', 'nan', 'first', 'information', 'use', 'error', 'method', 'nan', 'nan', 'nan'], ['nan', 'nan', 'distribution', 'network', 'based', 'matrix', 'neural', 'nan', 'information', 'use', 'nan', 'method', 'linear', 'nan', 'state'], ['nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'information', 'use', 'nan', 'nan', 'linear', 'nan', 'nan'], ['nan', 'nan', 'distribution', 'network', 'based', 'matrix', 'neural', 'nan', 'information', 'nan', 'nan', 'method', 'nan', 'nan', 'nan'], ['nan', 'nan', 'distribution', 'network', 'based', 'matrix', 'neural', 'nan', 'information', 'nan', 'nan', 'method', 'linear', 'input', 'nan'], ['nan', 'results', 'nan', 'network', 'based', 'nan', 'nan', 'nan', 'information', 'nan', 'error', 'method', 'linear', 'nan', 'nan'], ['also', 'results', 'distribution', 'nan', 'based', 'matrix', 'neural', 'first', 'information', 'use', 'error', 'method', 'nan', 'nan', 'state'], ['nan', 'results', 'distribution', 'nan', 'based', 'matrix', 'nan', 'first', 'information', 'use', 'error', 'method', 'linear', 'nan', 'state'], ['nan', 'nan', 'nan', 'nan', 'nan', 'matrix', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan'], ['nan', 'nan', 'distribution', 'network', 'based', 'nan', 'neural', 'nan', 'information', 'nan', 'nan', 'nan', 'nan', 'nan', 'state'], ['also', 'nan', 'distribution', 'network', 'based', 'matrix', 'neural', 'first', 'information', 'use', 'nan', 'nan', 'nan', 'input', 'nan'], ['nan', 'results', 'distribution', 'network', 'nan', 'nan', 'neural', 'nan', 'nan', 'use', 'nan', 'nan', 'linear', 'nan', 'state'], ['also', 'results', 'distribution', 'network', 'nan', 'nan', 'neural', 'nan', 'nan', 'use', 'nan', 'nan', 'nan', 'nan', 'state'], ['nan', 'results', 'distribution', 'network', 'based', 'matrix', 'neural', 'first', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'state'], ['also', 'results', 'nan', 'nan', 'nan', 'matrix', 'nan', 'first', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['nan', 'nan', 'nan', 'network', 'nan', 'matrix', 'neural', 'first', 'nan', 'nan', 'nan', 'method', 'linear', 'input', 'state'], ['also', 'nan', 'nan', 'network', 'nan', 'nan', 'nan', 'first', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'state'], ['nan', 'nan', 'nan', 'nan', 'nan', 'matrix', 'nan', 'nan', 'nan', 'use', 'error', 'nan', 'linear', 'input', 'nan'], ['nan', 'results', 'distribution', 'network', 'nan', 'nan', 'neural', 'nan', 'information', 'nan', 'nan', 'method', 'nan', 'nan', 'nan'], ['also', 'results', 'distribution', 'network', 'based', 'nan', 'neural', 'nan', 'information', 'nan', 'error', 'nan', 'linear', 'input', 'nan'], ['nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'error', 'nan', 'nan', 'input', 'nan'], ['also', 'results', 'distribution', 'network', 'based', 'nan', 'neural', 'first', 'information', 'use', 'error', 'method', 'linear', 'nan', 'state'], ['also', 'nan', 'distribution', 'network', 'based', 'matrix', 'neural', 'nan', 'nan', 'use', 'nan', 'method', 'linear', 'input', 'nan'], ['also', 'results', 'distribution', 'network', 'based', 'matrix', 'nan', 'first', 'information', 'use', 'nan', 'method', 'linear', 'nan', 'state'], ['also', 'results', 'distribution', 'nan', 'based', 'matrix', 'neural', 'first', 'information', 'use', 'nan', 'method', 'nan', 'nan', 'state'], ['also', 'results', 'distribution', 'network', 'based', 'nan', 'neural', 'first', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['also', 'results', 'distribution', 'network', 'nan', 'matrix', 'nan', 'first', 'information', 'nan', 'nan', 'method', 'linear', 'input', 'state'], ['also', 'results', 'distribution', 'nan', 'based', 'matrix', 'neural', 'first', 'information', 'use', 'error', 'method', 'linear', 'input', 'nan'], ['nan', 'nan', 'distribution', 'network', 'nan', 'matrix', 'neural', 'first', 'information', 'nan', 'error', 'method', 'linear', 'input', 'state'], ['nan', 'results', 'nan', 'network', 'based', 'matrix', 'nan', 'nan', 'information', 'use', 'error', 'nan', 'nan', 'input', 'state'], ['nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan'], ['nan', 'nan', 'distribution', 'nan', 'based', 'matrix', 'nan', 'nan', 'nan', 'nan', 'error', 'nan', 'linear', 'nan', 'nan'], ['nan', 'results', 'distribution', 'network', 'nan', 'matrix', 'neural', 'first', 'nan', 'use', 'error', 'method', 'linear', 'nan', 'state'], ['also', 'results', 'distribution', 'network', 'nan', 'matrix', 'neural', 'nan', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['nan', 'results', 'distribution', 'network', 'based', 'matrix', 'nan', 'first', 'information', 'nan', 'error', 'method', 'nan', 'nan', 'state'], ['nan', 'results', 'distribution', 'network', 'nan', 'nan', 'neural', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'state'], ['also', 'results', 'nan', 'nan', 'nan', 'nan', 'neural', 'nan', 'nan', 'nan', 'error', 'method', 'nan', 'nan', 'nan'], ['nan', 'nan', 'distribution', 'nan', 'nan', 'nan', 'neural', 'nan', 'nan', 'use', 'error', 'nan', 'linear', 'nan', 'state'], ['nan', 'nan', 'nan', 'network', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'state'], ['also', 'results', 'distribution', 'network', 'nan', 'matrix', 'neural', 'first', 'nan', 'nan', 'error', 'method', 'nan', 'nan', 'state'], ['nan', 'nan', 'distribution', 'nan', 'nan', 'matrix', 'nan', 'nan', 'information', 'nan', 'error', 'nan', 'nan', 'input', 'state'], ['also', 'nan', 'distribution', 'network', 'nan', 'nan', 'nan', 'nan', 'information', 'nan', 'nan', 'nan', 'nan', 'nan', 'state'], ['also', 'results', 'distribution', 'network', 'based', 'matrix', 'neural', 'nan', 'information', 'use', 'error', 'nan', 'linear', 'input', 'state'], ['also', 'nan', 'nan', 'nan', 'nan', 'nan', 'neural', 'nan', 'information', 'use', 'error', 'method', 'linear', 'nan', 'state'], ['nan', 'nan', 'distribution', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan'], ['also', 'nan', 'nan', 'network', 'based', 'matrix', 'nan', 'first', 'information', 'use', 'nan', 'nan', 'nan', 'input', 'nan'], ['nan', 'nan', 'nan', 'nan', 'based', 'matrix', 'nan', 'first', 'nan', 'use', 'nan', 'method', 'nan', 'nan', 'state'], ['also', 'results', 'distribution', 'network', 'nan', 'nan', 'neural', 'first', 'information', 'use', 'error', 'method', 'linear', 'nan', 'nan'], ['also', 'results', 'distribution', 'nan', 'based', 'matrix', 'neural', 'first', 'nan', 'nan', 'nan', 'nan', 'linear', 'input', 'state'], ['also', 'results', 'distribution', 'nan', 'based', 'matrix', 'neural', 'nan', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['nan', 'nan', 'distribution', 'nan', 'based', 'nan', 'nan', 'nan', 'information', 'use', 'error', 'method', 'nan', 'nan', 'state'], ['nan', 'nan', 'nan', 'nan', 'based', 'nan', 'nan', 'nan', 'nan', 'use', 'nan', 'nan', 'nan', 'nan', 'nan'], ['also', 'results', 'distribution', 'network', 'nan', 'matrix', 'neural', 'nan', 'nan', 'nan', 'nan', 'method', 'linear', 'input', 'nan'], ['nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'information', 'nan', 'nan', 'method', 'linear', 'nan', 'state'], ['also', 'results', 'distribution', 'nan', 'nan', 'matrix', 'nan', 'first', 'information', 'nan', 'nan', 'method', 'nan', 'input', 'nan'], ['nan', 'results', 'nan', 'nan', 'based', 'nan', 'neural', 'nan', 'information', 'nan', 'error', 'nan', 'linear', 'nan', 'nan'], ['nan', 'nan', 'distribution', 'network', 'based', 'nan', 'neural', 'first', 'information', 'use', 'nan', 'method', 'linear', 'nan', 'nan'], ['nan', 'nan', 'distribution', 'nan', 'nan', 'nan', 'nan', 'nan', 'information', 'use', 'nan', 'method', 'linear', 'nan', 'state'], ['nan', 'nan', 'nan', 'nan', 'based', 'matrix', 'neural', 'nan', 'information', 'use', 'nan', 'method', 'nan', 'nan', 'state'], ['nan', 'nan', 'distribution', 'nan', 'nan', 'nan', 'nan', 'nan', 'information', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan'], ['nan', 'results', 'nan', 'nan', 'based', 'matrix', 'nan', 'first', 'nan', 'use', 'error', 'nan', 'linear', 'input', 'state'], ['also', 'nan', 'nan', 'nan', 'based', 'nan', 'neural', 'first', 'nan', 'nan', 'nan', 'method', 'linear', 'input', 'nan'], ['nan', 'results', 'distribution', 'network', 'nan', 'nan', 'nan', 'nan', 'information', 'use', 'error', 'method', 'linear', 'input', 'state'], ['nan', 'nan', 'distribution', 'nan', 'nan', 'nan', 'nan', 'nan', 'information', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan'], ['nan', 'results', 'distribution', 'nan', 'nan', 'matrix', 'neural', 'nan', 'nan', 'use', 'nan', 'method', 'nan', 'input', 'state'], ['also', 'nan', 'distribution', 'nan', 'based', 'matrix', 'neural', 'nan', 'information', 'use', 'error', 'method', 'linear', 'nan', 'nan']]
/n
length: 4
RelationRecord(items=frozenset({'also', 'results', 'distribution', 'information', 'error', 'neural'}), support=0.20202020202020202, ordered_statistics=[OrderedStatistic(items_base=frozenset({'results', 'distribution', 'information', 'error', 'neural'}), items_add=frozenset({'also'}), confidence=1.0, lift=2.020408163265306)])
RelationRecord(items=frozenset({'also', 'information', 'method', 'error', 'neural', 'use'}), support=0.2222222222222222, ordered_statistics=[OrderedStatistic(items_base=frozenset({'information', 'method', 'error', 'neural', 'use'}), items_add=frozenset({'also'}), confidence=1.0, lift=2.020408163265306)])
RelationRecord(items=frozenset({'state', 'also', 'information', 'error', 'neural', 'use'}), support=0.20202020202020202, ordered_statistics=[OrderedStatistic(items_base=frozenset({'state', 'information', 'error', 'neural', 'use'}), items_add=frozenset({'also'}), confidence=1.0, lift=2.020408163265306)])



